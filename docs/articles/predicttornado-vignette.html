<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="predicttornado">
<title>predicttornado-vignette • predicttornado</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="predicttornado-vignette">
<meta property="og:description" content="predicttornado">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">predicttornado</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/predicttornado-vignette.html">predicttornado-vignette</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>predicttornado-vignette</h1>
            
      
      
      <div class="d-none name"><code>predicttornado-vignette.Rmd</code></div>
    </div>

    
    
<p>This <code>predicttornado</code> package was created to help with the
data analysis of predicting the number of fatalities using length and
width of tornadoes based on tornado data. It allows you to:</p>
<ul>
<li><p>Perform data processing and cleaning easily</p></li>
<li><p>Create tailored scatterplots and box plots</p></li>
<li><p>Create a linear regression plot, fit it to your data, and gives
you model coefficients and intercept</p></li>
<li><p>Create accuracy plots</p></li>
</ul>
<p>To get started, we load the library:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: package 'tidyverse' was built under R version 4.3.2</span></span>
<span><span class="co">#&gt; Warning: package 'ggplot2' was built under R version 4.3.3</span></span>
<span><span class="co">#&gt; Warning: package 'tidyr' was built under R version 4.3.2</span></span>
<span><span class="co">#&gt; Warning: package 'purrr' was built under R version 4.3.2</span></span>
<span><span class="co">#&gt; Warning: package 'dplyr' was built under R version 4.3.2</span></span>
<span><span class="co">#&gt; Warning: package 'stringr' was built under R version 4.3.2</span></span>
<span><span class="co">#&gt; Warning: package 'lubridate' was built under R version 4.3.2</span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.4</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.5.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.3     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.0</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.2     </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">predicttornado</span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="data-tornado">Data: tornado<a class="anchor" aria-label="anchor" href="#data-tornado"></a>
</h2>
<p>To explore the functions of the <code>predicttornado</code> package,
we will use <code>tornados.csv</code> that can be found <a href="https://raw.githubusercontent.com/rfordatascience/tidytuesday/a9e277dd77331e9091e151bb5adb584742064b3e/data/2023/2023-05-16/tornados.csv" class="external-link">here</a>.</p>
<p>This <code>tornado_data</code> contains a variety of features related
to tornadoes, such as the magnitude, the width of tornadoes, the length
of tornadoes, the number of fatalities and casualities, and the
financial loss.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tornado_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/rfordatascience/tidytuesday/a9e277dd77331e9091e151bb5adb584742064b3e/data/2023/2023-05-16/tornados.csv"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">68693</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">27</span></span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">chr</span>   (2): tz, st</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">dbl</span>  (21): om, yr, mo, dy, stf, mag, inj, fat, loss, slat, slon, elat, elon,...</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">lgl</span>   (1): fc</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">dttm</span>  (1): datetime_utc</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">date</span>  (1): date</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">time</span>  (1): time</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre></div>
<p>We can see that there are many redundant features, like
<code>date</code> with <code>yr</code> and <code>f1</code>,
<code>f2</code>, <code>f3</code>, and <code>f4</code>. There are also
missing values for certain features, like <code>mag</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">tornado_data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;           om           yr           mo           dy         date         time </span></span>
<span><span class="co">#&gt;            0            0            0            0            0            0 </span></span>
<span><span class="co">#&gt;           tz datetime_utc           st          stf          mag          inj </span></span>
<span><span class="co">#&gt;            0            0            0            0          756            0 </span></span>
<span><span class="co">#&gt;          fat         loss         slat         slon         elat         elon </span></span>
<span><span class="co">#&gt;            0        27170            0            0            0            0 </span></span>
<span><span class="co">#&gt;          len          wid           ns           sn           f1           f2 </span></span>
<span><span class="co">#&gt;            0            0            0            0            0            0 </span></span>
<span><span class="co">#&gt;           f3           f4           fc </span></span>
<span><span class="co">#&gt;            0            0            0</span></span></code></pre></div>
<p>We would want to remove these features and rows with missing data, so
we will want to do preprocessing of the data. This is where the
<code>process_data</code> function comes into play.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">clean_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/process_data.html">process_data</a></span><span class="op">(</span><span class="va">tornado_data</span><span class="op">)</span></span>
<span><span class="va">clean_data</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 67,937 × 17</span></span></span>
<span><span class="co">#&gt;       ID  year month   day time   datetime_utc        state   mag injuries</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;time&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   192  <span style="text-decoration: underline;">1</span>950    10     1 21<span style="color: #949494;">:</span>00  1950-10-02 <span style="color: #949494;">03:00:00</span> OK        1        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>   193  <span style="text-decoration: underline;">1</span>950    10     9 02<span style="color: #949494;">:</span>15  1950-10-09 <span style="color: #949494;">08:15:00</span> NC        3        3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   195  <span style="text-decoration: underline;">1</span>950    11    20 02<span style="color: #949494;">:</span>20  1950-11-20 <span style="color: #949494;">08:20:00</span> KY        2        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   196  <span style="text-decoration: underline;">1</span>950    11    20 04<span style="color: #949494;">:</span>00  1950-11-20 <span style="color: #949494;">10:00:00</span> KY        1        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   197  <span style="text-decoration: underline;">1</span>950    11    20 07<span style="color: #949494;">:</span>30  1950-11-20 <span style="color: #949494;">13:30:00</span> MS        1        3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>   194  <span style="text-decoration: underline;">1</span>950    11     4 17<span style="color: #949494;">:</span>00  1950-11-04 <span style="color: #949494;">23:00:00</span> PA        3        1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   198  <span style="text-decoration: underline;">1</span>950    12     2 15<span style="color: #949494;">:</span>00  1950-12-02 <span style="color: #949494;">21:00:00</span> IL        2        3</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   199  <span style="text-decoration: underline;">1</span>950    12     2 16<span style="color: #949494;">:</span>00  1950-12-02 <span style="color: #949494;">22:00:00</span> IL        3       25</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>   200  <span style="text-decoration: underline;">1</span>950    12     2 16<span style="color: #949494;">:</span>25  1950-12-02 <span style="color: #949494;">22:25:00</span> AR        3        0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>   201  <span style="text-decoration: underline;">1</span>950    12     2 17<span style="color: #949494;">:</span>30  1950-12-02 <span style="color: #949494;">23:30:00</span> IL        1        0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 67,927 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 8 more variables: fatalities &lt;dbl&gt;, start_lat &lt;dbl&gt;, start_lon &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   end_lat &lt;dbl&gt;, end_lon &lt;dbl&gt;, length &lt;dbl&gt;, width &lt;dbl&gt;, ns &lt;dbl&gt;</span></span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">clean_data</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;           ID         year        month          day         time datetime_utc </span></span>
<span><span class="co">#&gt;            0            0            0            0            0            0 </span></span>
<span><span class="co">#&gt;        state          mag     injuries   fatalities    start_lat    start_lon </span></span>
<span><span class="co">#&gt;            0            0            0            0            0            0 </span></span>
<span><span class="co">#&gt;      end_lat      end_lon       length        width           ns </span></span>
<span><span class="co">#&gt;            0            0            0            0            0</span></span></code></pre></div>
<p>Our data is processed and we can see that certain features that are
redundant have been removed, such as the <code>date</code> and
<code>time</code>. We also removed certain features that we don’t need,
like <code>loss</code>. Moreover, we can also see that the names of
certain features have been changed to make them more informative. For
example, <code>len</code> was changed to <code>length</code> and
<code>fat</code> was changed to <code>fatalities</code>. We can also see
that the missing values have been removed.</p>
<p>Next, after data processing, we want to perform some exploratory data
analysis by visualizing certain features of interest. Let’s say we are
interested to see if <code>width</code> is related to
<code>fatalities</code>. We can visualize this relationship using the
function <code>create_scatterplot</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">width_fatalities_scatterplot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_scatterplot.html">create_scatterplot</a></span><span class="op">(</span><span class="va">clean_data</span>, <span class="va">width</span>, <span class="va">fatalities</span><span class="op">)</span> <span class="op">+</span> </span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Width of tornadoes (yards)"</span>, y <span class="op">=</span> <span class="st">"Fatalities"</span>, </span>
<span>title <span class="op">=</span> <span class="st">"Figure 2: Scatterplot of width (yards) of tornado and fatalities"</span><span class="op">)</span></span>
<span><span class="va">width_fatalities_scatterplot</span></span></code></pre></div>
<p><img src="predicttornado-vignette_files/figure-html/scatterplots-1.png" width="672"></p>
<p>One other interesting thing you can explore is whether your data is
skewed or has outliers. To do this, we can use the function
<code>boxplot_viz</code> to examine whether our feature of interest,
<code>fatalities</code>, has outliers.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">boxplot_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/boxplot_viz.html">boxplot_viz</a></span><span class="op">(</span><span class="va">clean_data</span>, <span class="va">fatalities</span><span class="op">)</span></span>
<span><span class="va">boxplot_data</span></span></code></pre></div>
<p><img src="predicttornado-vignette_files/figure-html/boxplots-1.png" width="672"></p>
<p>The boxplot shows us that there are a few outliers in our data for
<code>fatalities</code>. For the sake of this demonstration, we will not
be removing the outliers. However, in reality, for data analysis, you
may want to remove outliers. This will depend on the decisions you make
in your data analysis and project.</p>
<p>From the scatterplot, we can see that there is some correlation
between <code>width</code> and <code>injuries</code>. However, this
correlation does not seem to be very strong. Despite this small
correlation, we will create a linear regression model using
<code>width</code> as a predictor and <code>injuries</code> as the
target. To do this, we can use the function
<code>fit_linear_model</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lm_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fit_linear_model.html">fit_linear_model</a></span><span class="op">(</span><span class="va">injuries</span> <span class="op">~</span> <span class="va">width</span>, <span class="va">clean_data</span><span class="op">)</span></span>
<span><span class="va">lm_fit</span></span>
<span><span class="co">#&gt; ══ Workflow [trained] ══════════════════════════════════════════════════════════</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Preprocessor:</span> Recipe</span></span>
<span><span class="co">#&gt; <span style="font-style: italic;">Model:</span> linear_reg()</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Preprocessor ────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; 0 Recipe Steps</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── Model ───────────────────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; stats::lm(formula = ..y ~ ., data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt; (Intercept)        width  </span></span>
<span><span class="co">#&gt;    -0.32710      0.01625</span></span></code></pre></div>
<p><strong>Note</strong>: for proper data analysis, you would want to
first split your data into train and test data where you fit your model
on the train data and then score on the test data. For this
documentation, we are simply showing how to use the functions in
<code>predicttornado</code>.</p>
<p>Finally, after fitting your model, we want to compare the accuracy of
our regression model to the actual number of fatalities.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fatal_predictions</span> <span class="op">&lt;-</span> <span class="va">lm_fit</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">clean_data</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span><span class="va">clean_data</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fatal_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/accuracy_plot.html">accuracy_plot</a></span><span class="op">(</span><span class="va">fatal_predictions</span>, <span class="va">fatalities</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"Actual Number of Fatalities"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Predicted Number of Fatalities"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Actual Number of Fatalities vs Predicted Number of Fatalities"</span><span class="op">)</span></span>
<span><span class="va">fatal_model</span></span>
<span><span class="co">#&gt; Warning in ggplot2::scale_x_continuous(trans = "log10"): <span style="color: #00BB00;">log-10</span></span></span>
<span><span class="co">#&gt; transformation introduced infinite values.</span></span></code></pre></div>
<p><img src="predicttornado-vignette_files/figure-html/accuracy%20plots-1.png" width="672"></p>
<p>The red line can tell us how well our model is predicting the actual
number of fatalities. Based on the accuracy plot, we can see that our
model is not performing very well.</p>
<p>Through this document, you have explored all of the functions of
<code>predicttornado</code>. You are all set to perform your own data
analysis with our package.</p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
